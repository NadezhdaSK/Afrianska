"use strict";window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header__btn-nav"),t=document.querySelector(".header__nav");e.addEventListener("click",()=>{t.classList.contains("header__nav--closed")?(t.classList.remove("header__nav--closed"),t.classList.add("header__nav--opened")):(t.classList.add("header__nav--closed"),t.classList.remove("header__nav--opened"))});const o=(e,t,o,r,c,n)=>{const a=document.querySelector(t);a.addEventListener("submit",t=>{t.preventDefault();const d=document.querySelectorAll(o);let l=0;if(d.forEach(e=>{e.value||(e.classList.add(r),l++),e.addEventListener("change",()=>{e.value.length>=1&&e.classList.remove(r)})}),0==l){const t=new FormData(a);(async(e,t)=>{const o=await fetch(e,{method:"POST",body:t});if(!o.ok){const t=new Error(`Адрес ошибки: ${e}, статус ошибки: ${o.status}`);console.log(t)}return await o.json()})(e,t).then(()=>{a.reset()}).catch(()=>{const t=new Error("Адрес ошибки: "+e);console.log(t)}),s.classList.contains(c)&&s.classList.remove(c);const o=document.createElement("div");o.classList.add("footer__modal-message"),o.innerHTML='\n                <div class="modal__content">\n                    <div class="footer__modal-close" data-close>×</div>\n                    <div class="footer__modal-title">Спасибо, скоро мы с вами свяжемся!</div>\n                </div>\n            ',document.querySelector(n).append(o),setTimeout(()=>{o.remove()},5e3),document.querySelector("[data-close]").addEventListener("click",()=>{o.remove()})}})},r=document.querySelector(".footer__btn-talk"),s=document.querySelector(".footer__form-wrap");r&&(r.addEventListener("click",()=>{s.classList.add("footer__form-wrap--show")}),s.addEventListener("click",e=>{e.target===s&&s.classList.remove("footer__form-wrap--show")}),o("https://jsonplaceholder.typicode.com/posts",".footer__form",'[data-inputForm = "footer"]',"form__input--error","footer__form-wrap--show",".footer"));document.querySelector(".contact-center__form")&&o("https://jsonplaceholder.typicode.com/posts",".contact-center__form",'[data-inputForm = "contact-center"]',"form__input--error","footer__form-wrap--show",".contact-center")});